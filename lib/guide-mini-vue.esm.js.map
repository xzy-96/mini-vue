{"version":3,"file":"guide-mini-vue.esm.js","sources":["../src/runtime-core/component.ts","../src/runtime-core/renderer.ts","../src/runtime-core/vnode.ts","../src/runtime-core/createApp.ts","../src/runtime-core/h.ts"],"sourcesContent":["export function createComponentInstance(vnode) {\r\n  const component = {\r\n    vnode,\r\n    type:vnode.type\r\n  }\r\n  return component\r\n}\r\n\r\nexport function setupComponent(insetance) {\r\n  // initProps()\r\n  // initSlots()\r\n\r\n  setupStatefulCopmonent(insetance)\r\n}\r\n\r\nfunction setupStatefulCopmonent(insetance: any) {\r\n  const Compontent = insetance.type\r\n  const {setup} = Compontent\r\n  if(setup) {\r\n    const setupResult = setup()\r\n    handleSetupResult(insetance,setupResult)\r\n  }\r\n  \r\n}\r\nfunction handleSetupResult(insetance,setupResult: any) {\r\n  if(typeof setupResult === 'object'){\r\n    insetance.setupState = setupResult\r\n  }\r\n  finishComponentSetup(insetance)\r\n}\r\n\r\n\r\nfunction finishComponentSetup(insetance: any) {\r\n   const Compontent = insetance.type\r\n   if(!Compontent.render) {\r\n    insetance.render = Compontent.render\r\n   }\r\n}\r\n\r\n","import { createComponentInstance, setupComponent } from \"./component\"\r\n\r\nexport function render(vnode,container) {\r\n  // patch\r\n  patch(vnode,container)\r\n}\r\n\r\nfunction patch(vnode,container) {\r\n  // 去处理 组件\r\n  processComponent(vnode,container)\r\n}\r\n\r\nfunction processComponent(vnode,container) {\r\n  mountComponent(vnode,container)\r\n}\r\nfunction mountComponent(vnode,container) {\r\n  const instance =  createComponentInstance(vnode)\r\n  setupComponent(instance)\r\n  setupRenderEffect(instance,container)\r\n}\r\n\r\nfunction setupRenderEffect(instance,container) {\r\n  const subTree = instance.render()\r\n  patch(subTree,container)\r\n}\r\n","export function createVNode(type,props?,children?) {\r\n  const vnode = {\r\n    type,props,children\r\n  }\r\n  return vnode\r\n}","import { render } from \"./renderer\"\r\nimport { createVNode } from \"./vnode\"\r\n\r\nexport function createApp(rootCommponent) {\r\n  return {\r\n    mount(rootContainer) {\r\n      const vnode = createVNode(rootCommponent)\r\n      render(vnode,rootContainer)\r\n    }\r\n  }\r\n}","import { createVNode } from \"./vnode\";\r\n\r\nexport function h(type,props?,children?) {\r\n return createVNode(type,props,children)\r\n}"],"names":[],"mappings":"AAAM,SAAU,uBAAuB,CAAC,KAAK,EAAA;AAC3C,IAAA,MAAM,SAAS,GAAG;QAChB,KAAK;QACL,IAAI,EAAC,KAAK,CAAC,IAAI;KAChB,CAAA;AACD,IAAA,OAAO,SAAS,CAAA;AAClB,CAAC;AAEK,SAAU,cAAc,CAAC,SAAS,EAAA;;;IAItC,sBAAsB,CAAC,SAAS,CAAC,CAAA;AACnC,CAAC;AAED,SAAS,sBAAsB,CAAC,SAAc,EAAA;AAC5C,IAAA,MAAM,UAAU,GAAG,SAAS,CAAC,IAAI,CAAA;AACjC,IAAA,MAAM,EAAC,KAAK,EAAC,GAAG,UAAU,CAAA;AAC1B,IAAA,IAAG,KAAK,EAAE;AACR,QAAA,MAAM,WAAW,GAAG,KAAK,EAAE,CAAA;AAC3B,QAAA,iBAAiB,CAAC,SAAS,EAAC,WAAW,CAAC,CAAA;AACzC,KAAA;AAEH,CAAC;AACD,SAAS,iBAAiB,CAAC,SAAS,EAAC,WAAgB,EAAA;AACnD,IAAA,IAAG,OAAO,WAAW,KAAK,QAAQ,EAAC;AACjC,QAAA,SAAS,CAAC,UAAU,GAAG,WAAW,CAAA;AACnC,KAAA;IACD,oBAAoB,CAAC,SAAS,CAAC,CAAA;AACjC,CAAC;AAGD,SAAS,oBAAoB,CAAC,SAAc,EAAA;AACzC,IAAA,MAAM,UAAU,GAAG,SAAS,CAAC,IAAI,CAAA;AACjC,IAAA,IAAG,CAAC,UAAU,CAAC,MAAM,EAAE;AACtB,QAAA,SAAS,CAAC,MAAM,GAAG,UAAU,CAAC,MAAM,CAAA;AACpC,KAAA;AACJ;;ACnCgB,SAAA,MAAM,CAAC,KAAK,EAAC,SAAS,EAAA;;AAEpC,IAAA,KAAK,CAAC,KAAe,CAAC,CAAA;AACxB,CAAC;AAED,SAAS,KAAK,CAAC,KAAK,EAAC,SAAS,EAAA;;AAE5B,IAAA,gBAAgB,CAAC,KAAe,CAAC,CAAA;AACnC,CAAC;AAED,SAAS,gBAAgB,CAAC,KAAK,EAAC,SAAS,EAAA;AACvC,IAAA,cAAc,CAAC,KAAe,CAAC,CAAA;AACjC,CAAC;AACD,SAAS,cAAc,CAAC,KAAK,EAAC,SAAS,EAAA;AACrC,IAAA,MAAM,QAAQ,GAAI,uBAAuB,CAAC,KAAK,CAAC,CAAA;IAChD,cAAc,CAAC,QAAQ,CAAC,CAAA;AACxB,IAAA,iBAAiB,CAAC,QAAkB,CAAC,CAAA;AACvC,CAAC;AAED,SAAS,iBAAiB,CAAC,QAAQ,EAAC,SAAS,EAAA;AAC3C,IAAA,MAAM,OAAO,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAA;AACjC,IAAA,KAAK,CAAC,OAAiB,CAAC,CAAA;AAC1B;;SCxBgB,WAAW,CAAC,IAAI,EAAC,KAAM,EAAC,QAAS,EAAA;AAC/C,IAAA,MAAM,KAAK,GAAG;QACZ,IAAI,EAAC,KAAK,EAAC,QAAQ;KACpB,CAAA;AACD,IAAA,OAAO,KAAK,CAAA;AACd;;ACFM,SAAU,SAAS,CAAC,cAAc,EAAA;IACtC,OAAO;AACL,QAAA,KAAK,CAAC,aAAa,EAAA;AACjB,YAAA,MAAM,KAAK,GAAG,WAAW,CAAC,cAAc,CAAC,CAAA;AACzC,YAAA,MAAM,CAAC,KAAmB,CAAC,CAAA;SAC5B;KACF,CAAA;AACH;;SCRgB,CAAC,CAAC,IAAI,EAAC,KAAM,EAAC,QAAS,EAAA;IACtC,OAAO,WAAW,CAAC,IAAI,EAAC,KAAK,EAAC,QAAQ,CAAC,CAAA;AACxC;;;;"}