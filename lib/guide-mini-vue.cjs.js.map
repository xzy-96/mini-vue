{"version":3,"file":"guide-mini-vue.cjs.js","sources":["../src/shared/index.ts","../src/reactivity/effect.ts","../src/reactivity/baseHandlers.ts","../src/reactivity/reactive.ts","../src/reactivity/ref.ts","../src/runtime-core/componentEmit.ts","../src/runtime-core/componentProps.ts","../src/runtime-core/componentPublicInstance.ts","../src/runtime-core/componentSlots.ts","../src/runtime-core/component.ts","../src/runtime-core/helpers/apiInject.ts","../src/runtime-core/vnode.ts","../src/runtime-core/h.ts","../src/runtime-core/helpers/renderSlots.ts","../src/runtime-core/createApp.ts","../src/runtime-core/renderer.ts","../src/runtime-dom/index.ts"],"sourcesContent":["export const extend = Object.assign;\n\nexport const isObject = (val) => val !== null && typeof val === \"object\";\n\nexport const hasChanged = (val, newVal) => !Object.is(val, newVal);\n\nexport const hasOwn = (target, key) => Reflect.has(target, key);\n\n// add -> Add\nexport const capitalize = (str: string) => {\n  return str[0].toUpperCase() + str.slice(1);\n};\n// add-todo -> addTodo\nexport const camelize = (str: string) => {\n  return str.replace(/-(\\w)/g, (_, c: string) => {\n    return c ? c.toUpperCase() : \"\";\n  });\n};\nexport const toHandlerKey = (str: string) => {\n  return str ? \"on\" + capitalize(str) : \"\";\n};\n","import { extend } from \"../shared\";\n\nlet activeEffect;\nlet shouldTrack;\nexport class ReactiveEffect {\n  private _fn: any;\n  active = true;\n  deps = [];\n  onStop?: () => void;\n  constructor(fn, public scheduler?) {\n    this._fn = fn;\n  }\n  run() {\n    if (!this.active) {\n      return this._fn();\n    }\n    shouldTrack = true;\n    activeEffect = this;\n    const result = this._fn();\n    // reset\n    shouldTrack = false;\n    return result;\n  }\n  stop() {\n    if (this.active) {\n      clearupEffect(this);\n      if (this.onStop) {\n        this.onStop();\n      }\n      this.active = false;\n    }\n  }\n}\n\nfunction clearupEffect(effect) {\n  // 找到所有依赖这个 effect 的响应式对象\n  // 从这些响应式对象里面把 effect 给删除掉\n  effect.deps.forEach((dep) => {\n    dep.delete(effect);\n  });\n\n  effect.deps.length = 0;\n}\nlet targetMap = new Map();\nexport function track(target, key) {\n  // 收集fn fn不能重复 所以用 set\n  // target >key > dep\n  if (!isTracking()) return;\n  let depsMap = targetMap.get(target);\n  if (!depsMap) {\n    depsMap = new Map();\n    targetMap.set(target, depsMap);\n  }\n\n  let dep = depsMap.get(key);\n  if (!dep) {\n    dep = new Set();\n    depsMap.set(key, dep);\n  }\n  // 已经在dep 中\n  trackEffects(dep);\n}\nexport function trackEffects(dep) {\n  // 用 dep 来存放所有的 effect\n\n  // TODO\n  // 这里是一个优化点\n  // 先看看这个依赖是不是已经收集了，\n  // 已经收集的话，那么就不需要在收集一次了\n  // 可能会影响 code path change 的情况\n  // 需要每次都 cleanupEffect\n  // shouldTrack = !dep.has(activeEffect!);\n  if (!dep.has(activeEffect)) {\n    dep.add(activeEffect);\n    (activeEffect as any).deps.push(dep);\n  }\n}\nexport function trigger(target, key) {\n  let depsMap = targetMap.get(target);\n  if (!depsMap) return;\n  let dep = depsMap.get(key);\n  triggerEffect(dep);\n}\nexport function triggerEffect(dep) {\n  for (let effect of dep) {\n    if (effect.scheduler) {\n      effect.scheduler();\n    } else {\n      effect.run();\n    }\n  }\n}\nexport function isTracking() {\n  return shouldTrack && activeEffect !== undefined;\n}\nexport function effect(fn, options: any = {}) {\n  const _effect: any = new ReactiveEffect(fn, options.scheduler);\n  _effect.run();\n  // Object.assign(_effect,options)\n  extend(_effect, options);\n  // _effect.onStop= options.onStop\n  const runner: any = _effect.run.bind(_effect);\n  runner.effect = _effect;\n\n  return runner;\n}\n\nexport function stop(runner) {\n  runner.effect.stop();\n}\n","import { extend, isObject } from \"../shared\"\nimport { track, trigger } from \"./effect\"\nimport { reactive, ReactiveFlags, readonly } from \"./reactive\"\n\nconst get = createGetter()\nconst set = createSetter()\nconst readonlyGet = createGetter(true)\nconst shallowReadonlyGet = createGetter(true,true)\nfunction createGetter(isReadonly= false,isShallow=false) {\n  return function get(obj, key) {\n    if(key === ReactiveFlags.IS_REACTIVE) {\n      return !isReadonly\n    }else if(key === ReactiveFlags.IS_READONLY) {\n      return isReadonly\n    }\n     const res = Reflect.get(obj,key)\n     // 看看res 是不是 object\n     if(isShallow){\n       return res\n     }\n     if(isObject(res)) {\n       return isReadonly? readonly(res) : reactive(res)\n     }\n     if(!isReadonly) {\n       track(obj,key)\n     }\n     return res\n   }\n }\n \n function createSetter() {\n   return function set(obj,key,value) {\n     const res = Reflect.set(obj,key,value)\n     // 触发依赖\n     trigger(obj,key)\n   // 表示成功\n     return res;\n   }\n }\n export const mutableHandlers = {\n  get,\n  set\n}\n\nexport const readonlyhandlers = {\n  get:readonlyGet,\n  set(obj, key, value) {\n    return true\n  }\n}\nexport const shallowhandlers = extend({},readonlyhandlers,{\n  get:shallowReadonlyGet\n}) ","import { isObject } from \"../shared\";\nimport {\n  mutableHandlers,\n  readonlyhandlers,\n  shallowhandlers,\n} from \"./baseHandlers\";\n\nexport const enum ReactiveFlags {\n  IS_REACTIVE = \"__v_isReactive\",\n  IS_READONLY = \"__v_isReadonly\",\n}\nexport function reactive(raw) {\n  return createActiveObject(raw, mutableHandlers);\n}\n\nexport function readonly(raw) {\n  return createActiveObject(raw, readonlyhandlers);\n}\nexport function shallowReadonly(raw) {\n  return createActiveObject(raw, shallowhandlers);\n}\nfunction createActiveObject(target: any, baseHandlers) {\n  if (!isObject(target)) {\n    console.warn(`target ${target}必须是对象`);\n    return;\n  }\n  return new Proxy(target, baseHandlers);\n}\n\nexport function isReactive(value) {\n  return !!value[ReactiveFlags.IS_REACTIVE];\n}\nexport function isReadonly(value) {\n  return !!value[ReactiveFlags.IS_READONLY];\n}\n\nexport function isProxy(value) {\n  return isReactive(value) || isReadonly(value);\n}\n","import { hasChanged, isObject } from \"../shared\"\nimport { isTracking, trackEffects, triggerEffect } from \"./effect\"\nimport { reactive } from \"./reactive\"\n\nclass refImpl {\n  private _value:any\n  public dep\n  private _rawValue: any\n  private __v_isRef = true\n  constructor(value) {\n    this._rawValue = value\n    this._value = convert(value) \n    // value -> reactive\n    // 1. 看看value 是不是对象\n    this.dep = new Set()\n  }\n  get value() {\n    trackRefValue(this)\n    return this._value\n  }\n  set value(newValue) {\n    // hasChanged\n    if(hasChanged(newValue,this._rawValue)) {\n      this._value = convert(newValue)  \n      this._rawValue = newValue\n      triggerEffect(this.dep)\n    }\n    \n    \n  }\n}\nfunction convert(value) {\n return isObject(value) ? reactive(value) : value\n}\nfunction  trackRefValue(ref) {\n  if(isTracking()) {\n    trackEffects(ref.dep)\n  }\n}\nexport function ref(value) {\n  return new refImpl(value)\n}\n\nexport function isRef(value) {\n  return !!value.__v_isRef\n}\n\nexport function unRef(value) {\n  if(isRef(value)) {\n  return  value.value\n  }else{\n    return value\n  }\n}\n\nexport function proxyRefs(obj) {\n  return new Proxy(obj,{\n    get(target,key) {\n      return unRef(Reflect.get(target,key)) \n    },\n    set(target,key,value) {\n      if(isRef(target[key]) && !isRef(value)) {\n        return target[key].value = value\n      }else{\n        return Reflect.set(target,key,value)\n      }\n    }\n  })\n}\n\n","import { camelize, toHandlerKey } from \"../shared\";\n\nexport const emit = (instance, event: string, ...ary) => {\n  // 找到 instance上的props\n  const { props } = instance;\n  const handleName = toHandlerKey(camelize(event));\n  const handler = props[handleName];\n  handler && handler(...ary);\n};\n","export function initProps(instance, rawProps) {\n  instance.props = rawProps || {};\n}\n","import { hasOwn } from \"../shared\";\n\nconst publicPropertiesMap = {\n  $el: (i) => i.vnode.el,\n  $slots: (i) => i.slots,\n};\nexport const PublicInstanceProxyHandles = {\n  get({ _: insetance }, key) {\n    const { setupState, props } = insetance;\n    if (key in setupState) {\n      return setupState[key];\n    }\n    if (hasOwn(props, key)) {\n      return props[key];\n    }\n    // if (key === \"$el\") {\n    //   debugger;\n    //   return insetance.vnode.el;\n    // }\n    const publicGeeter = publicPropertiesMap[key];\n    if (publicGeeter) {\n      return publicGeeter(insetance);\n    }\n  },\n  // set({ _: insetance }, key, value) {\n  //   debugger;\n  //   const { setupState, props } = insetance;\n  //   if (key in setupState) {\n  //     return value;\n  //   }\n  // },\n};\n","import { ShapeFlags } from \"../shared/ShapeFlage\";\n\nexport function initSlots(instance, children) {\n  // instance.slots = Array.isArray(children) ? children : [children];\n  const { vnode } = instance;\n  if (vnode.shapeFlag & ShapeFlags.SLOT_CHILREN) {\n    normalizeObjctSlot(children, instance.slots);\n  }\n}\n\nfunction normalizeObjctSlot(children, slots) {\n  for (var key in children) {\n    const value = children[key];\n    slots[key] = (props) => normalizeSlotValue(value(props));\n  }\n}\nfunction normalizeSlotValue(value) {\n  return Array.isArray(value) ? value : [value];\n}\n","import { proxyRefs } from \"../reactivity\";\nimport { shallowReadonly } from \"../reactivity/reactive\";\nimport { emit } from \"./componentEmit\";\nimport { initProps } from \"./componentProps\";\nimport { PublicInstanceProxyHandles } from \"./componentPublicInstance\";\nimport { initSlots } from \"./componentSlots\";\n\nexport function createComponentInstance(vnode, parent) {\n  console.log(parent, \"parent\");\n  const component = {\n    vnode,\n    type: vnode.type,\n    setupState: {},\n    props: {},\n    provides: parent ? parent.provides : {},\n    parent,\n    emit: () => {},\n    slots: {},\n    isMounted: false, // 是否是初始化\n  };\n  // 需要获取到 props\n  component.emit = emit.bind(null, component) as any;\n  return component;\n}\n\nexport function setupComponent(insetance) {\n  initProps(insetance, insetance.vnode.props);\n  initSlots(insetance, insetance.vnode.children);\n\n  setupStatefulCopmonent(insetance);\n}\n\nfunction setupStatefulCopmonent(insetance: any) {\n  const Compontent = insetance.type;\n\n  insetance.proxy = new Proxy({ _: insetance }, PublicInstanceProxyHandles);\n  const { setup } = Compontent;\n\n  if (setup) {\n    setCurrentinstance(insetance);\n    const setupResult = setup(shallowReadonly(insetance.props), {\n      emit: insetance.emit,\n    });\n    handleSetupResult(insetance, setupResult);\n    setCurrentinstance(null);\n  }\n}\nfunction handleSetupResult(insetance, setupResult: any) {\n  if (typeof setupResult === \"object\") {\n    insetance.setupState = proxyRefs(setupResult);\n  }\n  finishComponentSetup(insetance);\n}\n\nfunction finishComponentSetup(insetance: any) {\n  const Compontent = insetance.type;\n  if (Compontent.render) {\n    insetance.render = Compontent.render;\n  }\n}\nlet currentinstance = null;\nexport function getCurrentInstance() {\n  return currentinstance;\n}\nfunction setCurrentinstance(instance) {\n  currentinstance = instance;\n}\n","import { getCurrentInstance } from \"../component\";\n\nexport function inject(key, val) {\n  const currentInstance: any = getCurrentInstance();\n  const prarentProvides = currentInstance.parent.provides;\n  if (key in prarentProvides) {\n    return prarentProvides[key];\n  } else {\n    return val;\n  }\n}\n\nexport function provide(key, value) {\n  // 存\n  const currentInstance: any = getCurrentInstance();\n  if (currentInstance) {\n    let { provides } = currentInstance;\n    const parentProvides =\n      currentInstance.parent && currentInstance.parent.provides;\n    if (provides === parentProvides) {\n      provides = currentInstance.provides = Object.create(parentProvides);\n    }\n\n    provides[key] = value;\n  }\n}\n","import { ShapeFlags } from \"../shared/ShapeFlage\";\nexport const Fragment = Symbol(\"Fragment\");\nexport const Text = Symbol(\"Text\");\nexport function createVNode(type, props?, children?) {\n  const vnode = {\n    type,\n    props,\n    children,\n    key: props?.key,\n    shapeFlag: getShapeFlag(type),\n    el: null,\n  };\n  // h('div',{},children) // children可以是 string 和 array\n\n  if (typeof children === \"string\") {\n    vnode.shapeFlag |= ShapeFlags.TEXT_CHILREN;\n  } else if (Array.isArray(children)) {\n    vnode.shapeFlag |= ShapeFlags.ARRAY_CHILREN;\n  }\n  // slot类型必须是组件 + children\n  if (vnode.shapeFlag & ShapeFlags.STATEFUL_COMMPONENT) {\n    if (typeof children === \"object\") {\n      vnode.shapeFlag |= ShapeFlags.SLOT_CHILREN;\n    }\n  }\n  return vnode;\n}\nfunction getShapeFlag(type) {\n  return typeof type === \"string\"\n    ? ShapeFlags.ELEMENT\n    : ShapeFlags.STATEFUL_COMMPONENT;\n}\n\nexport function createVnodeText(text: string) {\n  return createVNode(Text, {}, text);\n}\n","import { createVNode } from \"./vnode\";\n\nexport function h(type,props?,children?) {\n return createVNode(type,props,children)\n}","import { createVNode, Fragment } from \"../vnode\";\n\nexport function renderSlots(slots, name, props) {\n  const slot = slots[name];\n  if (slot) {\n    if (typeof slot === \"function\") {\n      return createVNode(Fragment, {}, slot(props));\n    }\n  }\n}\n","// import { render } from \"./renderer\";\nimport { createVNode } from \"./vnode\";\n\nexport function createAppAPI(render) {\n  return function createApp(rootCommponent) {\n    console.log(rootCommponent, \"rootCommponent\");\n    return {\n      mount(rootContainer) {\n        const vnode = createVNode(rootCommponent);\n        render(vnode, rootContainer);\n      },\n    };\n  };\n}\n","import { effect } from \"../reactivity/effect\";\nimport { ShapeFlags } from \"../shared/ShapeFlage\";\nimport { createComponentInstance, setupComponent } from \"./component\";\nimport { createAppAPI } from \"./createApp\";\nimport { Fragment, Text } from \"./vnode\";\n\nexport function createRenderer(options) {\n  const {\n    hostPatchProps,\n    insert: hostInsert,\n    createElement: hostCreateElement,\n    remove: hostRemove,\n    setElementText: hostSetElementText,\n  } = options;\n\n  function render(vnode, container) {\n    patch(null, vnode, container, null, null);\n  }\n\n  function patch(n1, n2, container, parentComponent, anchor) {\n    // 去处理 组件\n    // patch 判断vnde 是不是一个 element\n    // 是element 就去处理element\n\n    const { shapeFlag, type } = n2;\n\n    switch (type) {\n      case Fragment:\n        processFragment(n1, n2, container, parentComponent, anchor);\n        break;\n      case Text:\n        processText(n1, n2, container);\n        break;\n      default:\n        if (shapeFlag & ShapeFlags.ELEMENT) {\n          processElement(n1, n2, container, parentComponent, anchor);\n        } else if (shapeFlag & ShapeFlags.STATEFUL_COMMPONENT) {\n          processComponent(n1, n2, container, parentComponent, anchor);\n        }\n    }\n  }\n\n  function processText(n1, n2, container) {\n    const { children } = n2;\n    const textNode = (n2.el = document.createTextNode(children));\n    container.append(textNode);\n  }\n  function processFragment(n1, n2, container, parentComponent, anchor) {\n    mountChilren(n2.children, container, parentComponent, anchor);\n  }\n  function processComponent(n1, n2, container, parentComponent, anchor) {\n    mountComponent(n1, n2, container, parentComponent, anchor);\n  }\n  function mountComponent(\n    n1,\n    initialVnode,\n    container,\n    parentComponent,\n    anchor\n  ) {\n    const instance = createComponentInstance(initialVnode, parentComponent);\n    setupComponent(instance);\n    setupRenderEffect(instance, initialVnode, container, anchor);\n  }\n\n  function setupRenderEffect(instance, initialVnode, container, anchor) {\n    effect(() => {\n      if (!instance.isMounted) {\n        console.log(\"init\");\n        const { proxy } = instance;\n        const subTree = (instance.subTree = instance.render.call(proxy)); // 存起来初始化的 虚拟DOM 更新的时候作对比\n        console.log(subTree, \"subTree\");\n        patch(null, subTree, container, instance, anchor);\n        initialVnode.el = subTree.el;\n        instance.isMounted = true;\n      } else {\n        const { proxy } = instance;\n        const subTree = instance.render.call(proxy);\n        const preSubTree = instance.subTree;\n        instance.subTree = subTree; // 更新之后 他就是 上一个虚拟节点了\n        patch(preSubTree, subTree, container, instance, anchor);\n        console.log(subTree, \"subTree\");\n        console.log(\"updata\");\n      }\n    });\n  }\n  function processElement(\n    n1,\n    n2: any,\n    container: any,\n    parentComponent,\n    anchor\n  ) {\n    // init -updata\n    if (!n1) {\n      mountElement(n2, container, parentComponent, anchor);\n    } else {\n      patchElement(n1, n2, container, parentComponent, anchor);\n    }\n  }\n  function patchElement(n1, n2, container, parentComponent, anchor) {\n    const oldProps = n1.props || EMPTY_OBJ;\n    const newProps = n2.props || EMPTY_OBJ;\n    const el = (n2.el = n1.el);\n    patchChildren(n1, n2, el, parentComponent, anchor);\n    patchProps(el, oldProps, newProps);\n  }\n  const EMPTY_OBJ = {};\n  function patchChildren(n1, n2, container, parentComponent, anchor) {\n    const prevShapeFlags = n1.shapeFlag;\n    const { shapeFlag } = n2;\n    const c1 = n1.children;\n    const c2 = n2.children;\n    // arr -> text\n    if (shapeFlag & ShapeFlags.TEXT_CHILREN) {\n      // 判断新的节点是否是text\n      if (prevShapeFlags & ShapeFlags.ARRAY_CHILREN) {\n        // 1.把老的清空\n        unmountChildren(n1.children);\n      }\n      // 2. 设置text\n      if (c1 !== c2) {\n        hostSetElementText(container, c2);\n      }\n    } else {\n      if (prevShapeFlags & ShapeFlags.TEXT_CHILREN) {\n        // 判断老的节点是否是text 新的必定是 arr\n        // 清空\n        hostSetElementText(container, \"\");\n        mountChilren(c2, container, parentComponent, anchor);\n      } else {\n        // arr -> arr diff\n        patchKeyedChildren(c1, c2, container, parentComponent, anchor);\n      }\n    }\n  }\n  function patchKeyedChildren(c1, c2, container, parentComponent, anchor) {\n    let i = 0,\n      l2 = c2.length,\n      e1 = c1.length - 1,\n      e2 = l2 - 1;\n\n    let moved = false;\n    function isSomeVNodeType(n1, n2) {\n      return n1.type === n2.type && n1.key === n2.key;\n    }\n    // old a b c ------new a b d e\n    while (i <= e1 && i <= e2) {\n      const n1 = c1[i];\n      const n2 = c2[i];\n      if (isSomeVNodeType(n1, n2)) {\n        patch(n1, n2, container, parentComponent, anchor);\n      } else {\n        break;\n      }\n      i++;\n    }\n    // 右侧 old a b c ------new d e b c\n    while (i <= e1 && i <= e2) {\n      const n1 = c1[e1];\n      const n2 = c2[e2];\n      if (isSomeVNodeType(n1, n2)) {\n        patch(n1, n2, container, parentComponent, anchor);\n      } else {\n        break;\n      }\n      e1--;\n      e2--;\n    }\n    // 3.当新的比老的多是 创建\n    if (i >= e1) {\n      if (i <= e2) {\n        const nextPos = e2 + 1;\n        const anchor = nextPos < l2 ? c2[nextPos].el : null;\n        while (i <= e2) {\n          patch(null, c2[i], container, parentComponent, anchor);\n          i++;\n        }\n      } else if (i > e2) {\n        // 当新的比老的少时 删除 abc => ab\n        while (i <= e1) {\n          hostRemove(c1[i].el);\n          i++;\n        }\n      }\n    } else {\n      // 中间对比\n      let s1 = i; // 老节点的开始\n      let s2 = i; // 新的节点\n      const toBePatched = e2 - s2 + 1; // 要遍历的数量\n      let patched = 0; // 已经patch\n      const newIndexToOldIndexMap = new Array(toBePatched);\n      const keyToNewIndexMap = new Map();\n      let maxNewIndexSoFar = 0;\n      for (let i = 0; i < toBePatched; i++) newIndexToOldIndexMap[i] = 0;\n      for (let i = s2; i <= e2; i++) {\n        let nextChild = c2[i];\n        keyToNewIndexMap.set(nextChild.key, i);\n      }\n      let newIndex; // 中间节点的索引\n      for (let j = s1; j <= e1; j++) {\n        const prveChild = c1[j]; // 当前节点\n        if (patched >= toBePatched) {\n          hostRemove(prveChild.el);\n          continue;\n        }\n        if (prveChild.key !== null) {\n          newIndex = keyToNewIndexMap.get(prveChild.key);\n        } else {\n          for (let j = s2; j <= e2; j++) {\n            if (isSomeVNodeType(prveChild, c2[j])) {\n              newIndex = j;\n              break;\n            }\n          }\n        }\n        if (newIndex === undefined) {\n          hostRemove(prveChild.el);\n        } else {\n          // hostSetElementText()\n          if (newIndex >= maxNewIndexSoFar) {\n            maxNewIndexSoFar = newIndex;\n          } else {\n            moved = true;\n          }\n          newIndexToOldIndexMap[newIndex - s2] = j + 1;\n          patch(prveChild, c2[newIndex], container, parentComponent, null);\n          patched++;\n        }\n      }\n      const increasingNewIndexSequence = moved\n        ? getSequence(newIndexToOldIndexMap)\n        : [];\n      let j = increasingNewIndexSequence.length - 1;\n\n      for (let i = toBePatched - 1; i >= 0; i--) {\n        const nextIndex = i + s2;\n        const nextChild = c2[nextIndex];\n        const anchor = nextIndex + 1 < l2 ? c2[nextIndex + 1].el : null;\n\n        if (newIndexToOldIndexMap[i] === 0) {\n          // 创建新节点\n          patch(null, nextChild, container, parentComponent, anchor);\n        } else if (moved) {\n          if (j < 0 || i !== increasingNewIndexSequence[j]) {\n            hostInsert(nextChild.el, container, anchor);\n          } else {\n            j--;\n          }\n        }\n      }\n    }\n    // unmountChildren(c1.slice(i));\n    // mountChilren(c2.slice(i), container, parentComponent);\n    console.log(i);\n  }\n\n  function unmountChildren(children) {\n    console.log(children, \"unmountChildren\");\n    for (var i = 0; i < children.length; i++) {\n      const el = children[i].el;\n      hostRemove(el);\n    }\n  }\n  function patchProps(el, oldProps, newProps) {\n    console.log(oldProps, newProps, \"oldProps, newProps\");\n    if (oldProps !== newProps) {\n      for (const key in newProps) {\n        const prevProp = oldProps[key];\n        const nextProp = newProps[key];\n        if (prevProp !== nextProp) {\n          hostPatchProps(el, key, prevProp, nextProp);\n        }\n      }\n      if (oldProps !== EMPTY_OBJ) {\n        for (const key in oldProps) {\n          if (!(key in newProps)) {\n            hostPatchProps(el, key, oldProps[key], null);\n          }\n        }\n      }\n    }\n  }\n  function mountElement(vnode, container, parentComponent, anchor) {\n    // const vnode = {\n    //   type,\n    //   props,\n    //   children,\n    // };\n\n    const el = (vnode.el = hostCreateElement(vnode.type));\n    // string array\n    const { children, props, shapeFlag } = vnode;\n    if (shapeFlag & ShapeFlags.TEXT_CHILREN) {\n      el.textContent = children;\n    } else if (shapeFlag & ShapeFlags.ARRAY_CHILREN) {\n      mountChilren(vnode.children, el, parentComponent, anchor);\n    }\n\n    for (const key in props) {\n      const val = props[key];\n      // const isOn = (key: string) => /^on[A-Z]/.test(key);\n      // if (isOn(key)) {\n      //   const event = key.slice(2).toLowerCase();\n      //   el.addEventListener(event, val);\n      // }\n      // el.setAttribute(key, val);\n      hostPatchProps(el, key, null, val);\n    }\n    // container.append(el);\n    // document.body.append(el);\n    hostInsert(el, container, anchor);\n  }\n\n  function mountChilren(children, container, parentComponent, anchor) {\n    children.forEach((item) => {\n      patch(null, item, container, parentComponent, anchor);\n    });\n  }\n  return {\n    createApp: createAppAPI(render),\n  };\n}\n\nfunction getSequence(arr) {\n  const p = arr.slice();\n  const result = [0];\n  let i, j, u, v, c;\n  const len = arr.length;\n  for (i = 0; i < len; i++) {\n    const arrI = arr[i];\n    if (arrI !== 0) {\n      j = result[result.length - 1];\n      if (arr[j] < arrI) {\n        p[i] = j;\n        result.push(i);\n        continue;\n      }\n      u = 0;\n      v = result.length - 1;\n      while (u < v) {\n        c = (u + v) >> 1;\n        if (arr[result[c]] < arrI) {\n          u = c + 1;\n        } else {\n          v = c;\n        }\n      }\n      if (arrI < arr[result[u]]) {\n        if (u > 0) {\n          p[i] = result[u - 1];\n        }\n        result[u] = i;\n      }\n    }\n  }\n  u = result.length;\n  v = result[u - 1];\n  while (u-- > 0) {\n    result[u] = v;\n    v = p[v];\n  }\n  return result;\n}\n","import { createRenderer } from \"../runtime-core\";\n\nfunction createElement(type) {\n  return document.createElement(type);\n}\n\nfunction hostPatchProps(el, key, preVal, nextval) {\n  const isOn = (key: string) => /^on[A-Z]/.test(key);\n  if (isOn(key)) {\n    const event = key.slice(2).toLowerCase();\n    el.addEventListener(event, nextval);\n  }\n\n  if (nextval === null || nextval === undefined) {\n    el.removeAttribute(key);\n  } else {\n    el.setAttribute(key, nextval);\n  }\n}\n\nfunction insert(child, parent, anchor) {\n  // parent.append(child);\n  parent.insertBefore(child, anchor || null);\n}\n\nfunction remove(child) {\n  const parent = child.parentNode;\n  if (parent) {\n    parent.removeChild(child);\n  }\n}\n\nfunction setElementText(el, text) {\n  el.textContent = text;\n}\nconst renderer: any = createRenderer({\n  createElement,\n  hostPatchProps,\n  insert,\n  remove,\n  setElementText,\n});\n\nexport function createApp(...args) {\n  return renderer.createApp(...args);\n}\n\nexport * from \"../runtime-core/index\";\n"],"names":[],"mappings":"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"}